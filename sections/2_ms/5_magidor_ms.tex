\section{Mutual Stationarity for Magidor Generics}
\label{ms:magidor_gens}


We now generalize Koepke's approach to Magidor forcing.
Before we do so, we have an ancillary lemma that will come into play.
Note that Prikry forcing preserves the stationarity of sets of size less than $\kappa$, because Prikry forcing adds no new bounded subsets of $\kappa$.
We need a different argument for Magidor forcing.

For this section, let $\vec{U}=\seq{U_\alpha \mid \alpha<\lambda}$ be a Mitchell order increasing sequence of normal measures on $\kappa$ of length $\lambda$, for some $\lambda<\kappa$.
Recall that $V^{\mathbb{M}\left(\vec{U}\right)}$ denotes a generic extension after forcing with $\mathbb{M}\left(\vec{U}\right)$, as defined in Section \ref{forcing:forcing}.

\begin{lemma}\thlabel{mag_forcing_preserves_stationary_successors}
  Let $\delta$ be a cardinal in $V$, let and suppose that in $V^{\mathbb{M}\left(\vec{U}\right)}$, 
  $\seq{\kappa_\alpha \mid \alpha<\lambda}$ denotes the Magidor generic sequence added by $\mathbb{M}\left(\vec{U}\right)$.
  Suppose that $\delta=\kappa_{\alpha+1}$ for some $\alpha$.
  Let $S\subseteq \delta$ be stationary in $V$.
  Then $S$ is stationary in $V^{\mathbb{M}\left(\vec{U}\right)}$.
\end{lemma}

\begin{proof}
  It is enough to show that $S$ is stationary after forcing with $\mathbb{M}\left(\vec{U}\right)_{(\alpha+1,\delta)}\times \mathbb{M}\left(\vec{U}\right)^{(\alpha+1,\delta)}$.
  
  To see that $S$ is stationary in $V^{\mathbb{M}\left(\vec{U}\right)_{(\alpha+1,\delta)}}$, let $1\leq n<\omega$ be such that $\alpha+1=\beta+n$ for some $\beta$ limit (or $0$).
  Then densely often (by extending the stem such that $\beta+k$ is in the domain of the stem, for all $k\leq n$),
  we may assume we're forcing with $\mathbb{M}\left(\vec{U}\right)_{(\beta,\xi)}$ for some $\xi$, which is $\xi^+$-cc, and hence is $\delta$-cc as well.
  Thus $S$ is stationary in $V^{\mathbb{M}\left(\vec{U}\right)_{(\alpha+1,\delta)}}$.
  
  Since the direct extension order on $\mathbb{M}\left(\vec{U}\right)^{(\alpha+1,\delta)}$ remains $\delta$-closed after forcing with $\mathbb{M}\left(\vec{U}\right)_{(\alpha+1,\delta)}$, $S$ remains stationary in the full generic extension.
\end{proof}

Note that since mutually stationary sequences of sets are only defined for families of regular cardinals, we don't have to concern ourselves with sets cofinal in the cardinals singularized by the Magidor forcing.

\begin{theorem}\thlabel{magidor_generics_mutually_hom}
  Let $\lambda<\kappa$ and let $G$ be Magidor generic over $V$ with $\seq{\kappa_{\alpha}\mid \alpha<\lambda}$ the induced Magidor generic sequence.
  In $V[G]$, let $f:[\kappa]^{<\omega}\to\kappa$.
  
  Then there are $\delta<\lambda$ and $\seq{A_\alpha \mid \delta < \alpha < \lambda, \alpha \text{ successor}}$ such that each $A_\alpha$ is stationary in $\kappa_\alpha$,
  and whenever $x,y\subseteq [\bigcup_{\delta<\alpha<\lambda} A_\alpha]^{<\omega}$ with $type(x)=type(y)$ and $x\cap (f(x)+1)=y\cap(f(x)+1)$, we have that $f(x)=f(y)$.
\end{theorem}

\begin{proof}
  Work in $V$; let $(g,H)\forces \dot{f}:[\kappa]^{<\omega}\to\kappa$.
  For each stem $g'$ extending $g$, and each $x\in[\kappa]^{<\omega}$ strictly increasing with $\min(x)>\max ran(g)$, let $F(g',x)$ be defined by
  \[
    F(g',x)=\begin{cases}
      \beta & \exists E \ (g',E)\forces \dot{f}(x)=\beta \\
      \emptyset & \text{otherwise} \\
    \end{cases}
  \]
  
  Since $\vec{U}$ is a family of normal measures on $\kappa$,  applying \thref{simult_indisc_useful} to $F$ yields a family $X\in \prod_{\max dom(g)<\alpha<\lambda} U_\alpha$ of order indiscernibles for $F$.
  What that precisely means is that 
  whenever $g_1$, $g_2$ are finite extensions of $g$ with the same domain such that, above $\max dom(g)$, $g_i\upharpoonright (\max dom(g),\lambda)=\seq{\kappa^i_{\alpha_0},\dots,\kappa^i_{\alpha_n}}$ such that each $\kappa^i_{\alpha_j}\in X(\alpha_j)$, and $x_1$, $x_2$ are in $[\kappa]^{<\omega}$ with $\min(x_i)>\max ran(g)$ such that $x_i=\seq{x^i_{\beta_0},\dots,x^i_{\beta_{m}}}$ where $x^i_{\beta_j}\in X(\beta_j)$, and $x_1$ bears the same order relations to $ran(g_1)$ as $x_2$ bears to $g_2$, and $(ran(g_1)\cup x_1)\cap (F(g_1,x_1)+1)=(ran(g_2) \cup x_2)\cap (F(g_1,x_1)+1)$\footnote{
    Recall that $x\cap (h(x)+1)=y\cap (h(x)+1)$ amounts to saying that $h(x)<\min (x\Delta y)$, so amounts to asserting that $h$ is regressive on an appropriate subcollection of $\kappa$.
  }, then $F(g_1,x_1)=F(g_2,x_2)$.
  We may further constrain $X$ so that for $\beta>\max dom(g)$, $X(\beta)\subseteq H(\beta)$.
  
  Let $Y$ with $dom(Y)=dom(X)$ be such that for $\beta<\max dom(g)$, $Y(\beta)=H(\beta)$; and for $\beta>\max dom(g)$, $Y(\beta)$ is the collection of stationary reflection points in each $X(\beta)$, i.e. 
  \[
    Y(\beta)=X(\beta) \cap \{\gamma<\kappa \mid \gamma \cap X(\beta) \text{ stationary in }\gamma\}
  \]
  For each $\beta>\max dom(g)$, $Y(\beta)\in U_\beta$; this is a consequence of the fact that the collection of stationary reflection points below a measurable cardinal is measure one.
  Thus $(g,Y)$ is in fact a condition.
  
  We wish to verify that $(g,Y)$ forces the desired property for $\dot{f}$; by the Generic Model Theorem, it suffices to show the desired property is true in $V[G]$ whenever $(g,Y)\in G$.
  Let $G$ be $\mathbb{M}\left(\vec{U}\right)$-generic over $V$ with $(g,Y)\in G$; let $\vec{\kappa}=\seq{\kappa_\alpha \mid \alpha<\lambda}$ be the $G$-generic Magidor sequence.
  This buys for us that for all $\alpha<\lambda$ with $\alpha>\max dom(g)$, $\kappa_\alpha\in Y(\alpha)$.
  Let $\delta=\max dom(g)$ and let $\seq{A_\alpha \mid \delta<\alpha<\lambda, \alpha\text{ successor}}$ be given by $A_\alpha=X(\alpha) \cap \kappa_\alpha$.
  Each $A_\alpha$ is $V$-stationary in $\kappa_\alpha$ since $\kappa_\alpha\in Y(\alpha)$, and by \thref{mag_forcing_preserves_stationary_successors}, $A_\alpha$ remains stationary in $\kappa_\alpha$.
  
  From here on out, unless otherwise noted, we work in $V[G]$.
  We will verify that \\
  $\seq{A_\alpha \mid \delta<\alpha<\lambda, \alpha\text{ successor}}$ witnesses the desired conclusion.
  
  Suppose $x,y\subseteq \left[\bigcup_{\delta<\alpha<\lambda, \ \alpha\text{ successor}}A_\alpha\right]^{<\omega}$ are such that $type(x)=type(y)$ and $x\cap (\dot{f}[G](x)+1)=y\cap(\dot{f}[G](x)+1)$.
  Let $\beta$ be least such that $x,y\subseteq \kappa_\beta$; since $x$, $y$ finite, we have that $\beta=\alpha+1$ for some $\alpha$.
  Furthermore, since $x,y$ are finite, $type(x)=type(y)$, and 
  $x\cap (\dot{f}[G](x)+1)=y\cap(\dot{f}[G](x)+1)$, we may extend $(g,Y)$ to some $(g',Y')\in G$ such that:
  \begin{itemize}
    \item $\beta\in dom(g')$ and $g'(\beta)=\kappa_\beta$
    \item since $lh(x)=lh(y)=n$, if we write $x=\seq{x_i\mid i<n}$ and $y=\seq{y_i\mid i<n}$ in increasing order, then for each $i$ such that $x_i,y_i<\kappa_\alpha$,
    there exists some $\gamma\in dom(g')$ such that $x_i,y_i\in (\kappa_\gamma,\kappa_{\gamma+1})$
    \item $(g',Y')$ decides the values of both $\dot{f}(x)$ and $\dot{f}(y)$
  \end{itemize}
  
  But $type(x)=type(y)$, and $\min(x)$ and $\min(y)$ are both above $\kappa_\delta$.
  Thus $x$ bears the exact same order relations to the elements of $ran(g')$ as does $y$.
  Furthermore, since $x\cap (\dot{f}[G](x)+1)=y\cap(\dot{f}[G](x)+1)$ is true in $V[G]$, we have that $(ran(g') \cup x)\cap (F(g',x)+1)=(ran(g') \cup y) \cap(F(g',x)+1)$ in $V$.
  Since $x$, $y$, and $g'\upharpoonright (\delta,\lambda)$ were all picked from $X$, by choice of $X$ we have that $F(g',x)=F(g',y)$.
  
  But then by definition of $F(g',x)$ and $F(g',y)$, without loss of generality there is some $E$ such that 
  $(g',E)\forces \dot{f}(x)=F(g',x)=F(g',y)=\dot{f}(y)$.
  While $(g',E)$ is not necessarily in $G$, we have that $(g',E) \compat (g',Y')$ and both $(g',E)$ and $(g',Y')$ decide the values of $\dot{f}(x)$ and $\dot{f}(y)$.
  But then by compatibility, $(g',E)$ and $(g',Y')$ must decide the values of $\dot{f}(x)$ and $\dot{f}(y)$ the same way, and so $(g',Y')\forces \dot{f}(x)=\dot{f}(y)$.
  But then $(g',Y')\in G$ so $V[G]\models f(x)=f(y)$.
\end{proof}

\begin{corollary}\thlabel{mag_forcing_mutual_ramsey_tail}
  Let $V[G]$ and $\seq{\kappa_\alpha \mid \alpha<\lambda}$ be as in \thref{magidor_generics_mutually_hom}.
  Then there is a fixed $\delta<\lambda$ such that $\seq{\kappa_\alpha \mid \delta<\alpha<\lambda, \ \alpha\text{successor}}$ is mutually Ramsey.
\end{corollary}

\begin{proof}
  % TODO: check for correctness
  % Godel pairing function? Double check this when more alert.
  % Spec: need that:
  %   1: o.t. of the pairing fn, restricted to kappa\times\lambda, is in fact \kappa
  %   2: sections of stationary sets are stationary
  We uniformize.
  Suppose otherwise; for each $\delta<\lambda$ fix some $f_\delta:[\kappa]^{<\omega}\to \kappa$ which is not mutually homogeneous for any $\seq{A_\alpha \mid \delta<\alpha<\lambda,\ \alpha\text{ successor}}$.
  Let $\chi:\lambda\times\kappa \to \kappa$ be the bijection given by G\"odel's pairing function, that is $\chi(\alpha,\beta)$ is the order type of the predecessors of $(\alpha,\beta)$ under the ordering given by the canonical well ordering on $Ord^2$.
  
  Since $\chi$ is a normal bijection, whenever $A$ is a stationary subset of $\kappa$, and $\alpha<\lambda$, $(\chi^{-1} " A) \cap (\{\alpha\}\times \kappa)$ is still stationary in $\kappa$.
  
  So let $f:[\kappa]^{<\omega}\to \kappa$ given by 
  $f(\mu_0,\dots,\mu_n)=(\nu_0,\dots,\nu_n)$ where $\nu_i$ comes from letting $\chi^{-1}(\mu_i)=(\alpha,\mu'_i)$ and then letting $\nu_i=f_\alpha(\mu'_i)$.
  
  Then by \thref{magidor_generics_mutually_hom}, let $\delta$ and $\seq{A_\alpha \mid \delta<\alpha<\lambda,\ \alpha\text{ successor}}$ be mutually homogeneous for $f$ and composed of stationary sets.
  But then 
  \[
    \seq{(\chi^{-1} " A_\alpha) \cap (\{\delta\}\times \kappa) \mid \delta<\alpha<\lambda,\ \alpha\text{ successor}}
  \]
  is mutually homogeneous for $f_\delta$ and is composed of stationary sets.
  This is a contradiction and the result follows.
\end{proof}

\begin{theorem}\thlabel{magidor_generics_ms_cobounded}
  Fix $\seq{\kappa_\alpha \mid \alpha<\lambda}$ and $\delta$ as above.
  Then any family of stationary subsets $S_\alpha\subseteq \kappa_\alpha$, $\delta<\alpha<\kappa$ and $\alpha$ a successor point, is mutually stationary.
\end{theorem}

\begin{proof}
  We invoke mutual Ramseyness as for Prikry generics as in \thref{prikry_generic_ramseyness_implies_ms}.
  
  Let $\seq{S_\alpha \mid \delta<\alpha<\kappa, \ \alpha\text{ successor}}$ be a system of stationary sets with each $S_\alpha\subseteq \kappa_\alpha$, let $\mathcal{M}$ be a structure on $\kappa$ with Skolem function $F$, and let $\seq{A_\alpha \mid \delta<\alpha<\kappa, \alpha\text{ successor}}$ be mutually homogeneous for $\mathcal{M}$ and $F$ with each $A_\alpha$ stationary in $\kappa_\alpha$.
  
  For each relevant $\alpha$, since $Lim(A_\alpha)$ is club in $\kappa_\alpha$ let $\gamma_\alpha\in S_\alpha \cap Lim(A_\alpha)$, and let
  \[
    \mathcal{U}=F"\left[\bigcup_{\delta<\alpha<\kappa, \ \alpha\text{ successor}} A_\alpha \cap \gamma_\alpha\right]^{<\omega}
  \]
  Then by the exact same logic as in \thref{prikry_generic_ramseyness_implies_ms}, for each relevant $\alpha$, $\sup(\mathcal{U}\cap \kappa_\alpha)=\gamma_\alpha$ as needed.
\end{proof}

\begin{theorem}\thlabel{magidor_generics_ms_cofinite}
  Furthermore, in $\mathbb{M}\left(\vec{U}\right)$, there is a cofinite subfamily $K$ of $\seq{\kappa_\alpha \mid \alpha<\lambda}$ of regular cardinals such that 
  \[
    MS(\seq{\kappa_\alpha \mid \kappa_\alpha\in K})
  \]
  holds.
\end{theorem}

\begin{proof}
  By \thref{magidor_geometric_cofinite_meet}, the fact that a Magidor generic sequence meets $V$-measure one systems cofinitely often as witnessed by some condition in the generic object, the arguments in \thref{magidor_generics_mutually_hom} apply equally well to a cofinite subsequence of $\seq{\kappa_\alpha \mid \alpha<\kappa}$, rather than a cobounded sequence.
  The argument in \thref{mag_forcing_mutual_ramsey_tail} additionally reflects downwards to each limit $\kappa_\alpha$.
  
  As a consequence, \thref{magidor_generics_ms_cobounded} also applies cofinitely.  
\end{proof}
